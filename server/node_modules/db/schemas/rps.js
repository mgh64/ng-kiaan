//
//
//

var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.Types.ObjectId;

var rp_schema = Schema({
  //
  id: Number,
  type: {
    type: String,
    enum: ['receive', 'payment']
  },
  person_id: {
    type: ObjectId,
    ref: "persons"
  },
  by_id: {
    type: ObjectId,
    ref: "bys"
  },
  items: [{
    type: {
      type: String,
      enum: ["cash", "cheque", "bank"]
    },
    serial: String,
    date: Date,
    account_no: String,
    bankacc_id: {
      type: ObjectId,
      ref: 'bankaccounts'
    },
    branch_id: {
      type: ObjectId,
      ref: 'branches'
    },
    returned: Boolean,
    status: {
      type: String,
      enum: ['mj', 'pn', 'dj', 'ph', 'bg', 'od']
    },
    price: Number,
    comment: String
  }],
  creator_id: {
    type: ObjectId,
    ref: 'users'
  },
  comment: String
});


module.exports = mongoose.model('rp', rp_schema);
